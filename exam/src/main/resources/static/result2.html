<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>成绩详情页面</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="layui/css/layui.css"  media="all">
  
</head>
<body>

<table id="tb1" class="layui-table">
  <thead id="thead1">
    <tr>
      <th>用户名</th>
      <th>分数</th>
      <th>试卷题型</th>
      <th>考试用时</th>
      <th>成绩水平</th>
    </tr> 
  </thead>
  <tbody id="tbody0">
    
  </tbody>
</table>


<div>
<h3><fieldset class="layui-elem-field layui-field-title" style="margin-top: 15px;color: #FF5722">单选题</fieldset></h3>
</div>
<table id="tb1" class="layui-table">
  <thead id="thead1">
    <tr>
      <th>题目编号</th>
      <th>题目内容</th>
      <th>用户答案</th>
      <th>系统答案</th>
      <th>是否正确</th>
    </tr> 
  </thead>
  <tbody id="tbody1">
    
  </tbody>
</table>
<div>
<h3><fieldset class="layui-elem-field layui-field-title" style="margin-top: 15px;color: #FF5722">多选题</fieldset></h3>
</div>
<table id="tb1" class="layui-table">
  <thead id="thead1">
    <tr>
      <th>题目编号</th>
      <th>题目内容</th>
      <th>用户答案</th>
      <th>系统答案</th>
      <th>是否正确</th>
    </tr> 
  </thead>
  <tbody id="tbody2">
    
  </tbody>
</table>
<div>
<h3><fieldset class="layui-elem-field layui-field-title" style="margin-top: 15px;color: #FF5722">填空题</fieldset></h3>
</div>
<table id="tb1" class="layui-table">
  <thead id="thead1">
    <tr>
      <th>题目编号</th>
      <th>题目内容</th>
      <th>用户答案</th>
      <th>系统答案</th>
      <th>是否正确</th>
    </tr> 
  </thead>
  <tbody id="tbody3">
    
  </tbody>
</table>
 

 
	<script src="../layui/layui.js" charset="utf-8"></script>
	<script src="../js/jquery.easy-pie-chart.js"></script>
	<script src="../js/jquery-3.3.1.min.js"></script>
	<script src="../js/bootstrap.min.js"></script>
	<!--时间js-->
	<script src="../time/jquery.countdown.js"></script>
	
	
	<script >
	//查询用户信息
	function queryMsg(pid){
		$.ajax({
			url:'../exam33/reports/'+pid,		
			method:'get',  
			data:{'pid':pid},
			success:function(data){
		
				var sp=null;
				if(data.grade!=null & data.grade<=100&&data.grade>=90){
					sp="优秀";
				}else if(data.grade!=null & data.grade<90&&data.grdae>=80){
					sp="良好";
				}else if(data.grade!=null & data.grade<80&&data.grdae>=60){
					sp="及格";
				}else if(data.grade!=null & data.grade<60){
					sp="不合格";
				}else{
					sp="待评价";
				}
			
			 	var tr='';
			 	tr+=`
					<tr>
					<td>${data.name}</td>
					<td>${data.grade}</td>
					<td>${data.ptype}</td>
					<td>${data.rpmin}</td>
					<td>${sp}</td>
					</tr>
					`;
					$('#tbody0').append(tr);
			 	
			},
			dataType:'json'
		});
		
	}
	


	
	
	//查单选题结果
	function querySg(page){
		
		var pages =page;
		$.ajax({
			url:'../exam22/19da1/'+pages,		
			method:'get',  
			data:{'pid':page},
			success:function(data){
			
			 	var tr='';
				var tr2='';
				var tr3='';
				var tr4='';
				var tr5='';
				var tr6='';
				var tr7='';
				var tr8='';
				var tr9='';
				var tr10='';
				var tr11='';
				var tr12='';
				var tr13='';
				var tr14='';
				var tr15='';
				var tr16='';
					
			
					tr+=`
					<tr>
					<td>1</td>
					<td>${data.sgname1}</td>
					<td>${data.sg1}</td>
					<td>${data.sgg1}</td>
					<td>${data.sggg1}</td>
					</tr>
					`;
					tr2+=`
					<tr>
					<td>2</td>
					<td>${data.sgname2}</td>
					<td>${data.sg2}</td>
					<td>${data.sgg2}</td>
					<td>${data.sggg2}</td>
					</tr>
					`;
					tr3+=`
					<tr>
					<td>3</td>
					<td>${data.sgname3}</td>
					<td>${data.sg3}</td>
					<td>${data.sgg3}</td>
					<td>${data.sggg3}</td>
					</tr>
					`;
					tr4+=`
					<tr>
					<td>4</td>
					<td>${data.sgname4}</td>
					<td>${data.sg4}</td>
					<td>${data.sgg4}</td>
					<td>${data.sggg4}</td>
					</tr>
					`;
					tr5+=`
					<tr>
					<td>5</td>
					<td>${data.sgname5}</td>
					<td>${data.sg5}</td>
					<td>${data.sgg5}</td>
					<td>${data.sggg5}</td>
					</tr>
					`;
					tr6+=`
					<tr>
					<td>6</td>
					<td>${data.sgname6}</td>
					<td>${data.sg6}</td>
					<td>${data.sgg6}</td>
					<td>${data.sggg6}</td>
					</tr>
					`;
					tr7+=`
					<tr>
					<td>7</td>
					<td>${data.sgname7}</td>
					<td>${data.sg7}</td>
					<td>${data.sgg7}</td>
					<td>${data.sggg7}</td>
					</tr>
					`;
				tr8+=`
					<tr>
					<td>8</td>
					<td>${data.sgname8}</td>
					<td>${data.sg8}</td>
					<td>${data.sgg8}</td>
					<td>${data.sggg8}</td>
					</tr>
					`;
					tr9+=`
					<tr>
					<td>9</td>
					<td>${data.sgname9}</td>
					<td>${data.sg9}</td>
					<td>${data.sgg9}</td>
					<td>${data.sggg9}</td>
					</tr>
					`;
					tr10+=`
					<tr>
					<td>10</td>
					<td>${data.sgname10}</td>
					<td>${data.sg10}</td>
					<td>${data.sgg10}</td>
					<td>${data.sggg10}</td>
					</tr>
					`;
					tr11+=`
					<tr>
					<td>11</td>
					<td>${data.sgname11}</td>
					<td>${data.sg11}</td>
					<td>${data.sgg11}</td>
					<td>${data.sggg11}</td>
					</tr>
					`;
					tr12+=`
					<tr>
					<td>12</td>
					<td>${data.sgname12}</td>
					<td>${data.sg12}</td>
					<td>${data.sgg12}</td>
					<td>${data.sggg12}</td>
					</tr>
					`;
					tr13+=`
					<tr>
					<td>13</td>
					<td>${data.sgname13}</td>
					<td>${data.sg13}</td>
					<td>${data.sgg13}</td>
					<td>${data.sggg13}</td>
					</tr>
					`;
					tr14+=`
					<tr>
					<td>14</td>
					<td>${data.sgname14}</td>
					<td>${data.sg14}</td>
					<td>${data.sgg14}</td>
					<td>${data.sggg14}</td>
					</tr>
					`;
					tr15+=`
					<tr>
					<td>15</td>
					<td>${data.sgname15}</td>
					<td>${data.sg15}</td>
					<td>${data.sgg15}</td>
					<td>${data.sggg15}</td>
					</tr>
					`;
					tr16+=`
					<hr/>
					`;						
				
			$('#tbody1').append(tr);
			$('#tbody1').append(tr2);
			$('#tbody1').append(tr3);
			$('#tbody1').append(tr4);
			$('#tbody1').append(tr5);
			$('#tbody1').append(tr6);
			$('#tbody1').append(tr7);
			$('#tbody1').append(tr8);
			$('#tbody1').append(tr9);
			$('#tbody1').append(tr10);
			$('#tbody1').append(tr11);
			$('#tbody1').append(tr12);
			$('#tbody1').append(tr13);
			$('#tbody1').append(tr14);
			$('#tbody1').append(tr15);
			$('#tbody1').append(tr16);
			},
			dataType:'json'
		});
	
		
	}
	
	
	//查多选题结果
	function queryCh(page){
		var pages =page;
		$.ajax({
			url:'../exam22/19da2/'+pages,			
			method:'get',  
			data:{'pid':page},
			success:function(data){
				
			 	var tr='';
				var tr2='';
				var tr3='';
				var tr4='';
				var tr5='';
				var tr6='';
				var tr7='';
				var tr8='';
				var tr9='';
				var tr10='';
				var tr16='';
				
			
						
					tr+=`
					<tr>
					<td>1</td>
					<td>${data.chname1}</td>
					<td>${data.ch1}</td>
					<td>${data.chh1}</td>
					<td>${data.chhh1}</td>
					</tr>
					`;
					tr2+=`
					<tr>
					<td>2</td>
					<td>${data.chname2}</td>
					<td>${data.ch2}</td>
					<td>${data.chh2}</td>
					<td>${data.chhh2}</td>
					</tr>
					`;
					tr3+=`
					<tr>
					<td>3</td>
					<td>${data.chname3}</td>
					<td>${data.ch3}</td>
					<td>${data.chh3}</td>
					<td>${data.chhh3}</td>
					</tr>
					`;
					tr4+=`
					<tr>
					<td>4</td>
					<td>${data.chname4}</td>
					<td>${data.ch4}</td>
					<td>${data.chh4}</td>
					<td>${data.chhh4}</td>
					</tr>
					`;
					tr5+=`
					<tr>
					<td>5</td>
					<td>${data.chname5}</td>
					<td>${data.ch5}</td>
					<td>${data.chh5}</td>
					<td>${data.chhh5}</td>
					</tr>
					`;
					tr6+=`
					<tr>
					<td>6</td>
					<td>${data.chname6}</td>
					<td>${data.ch6}</td>
					<td>${data.chh6}</td>
					<td>${data.chhh6}</td>
					</tr>
					`;
					tr7+=`
					<tr>
					<td>7</td>
					<td>${data.chname7}</td>
					<td>${data.ch7}</td>
					<td>${data.chh7}</td>
					<td>${data.chhh7}</td>
					</tr>
					`;
					tr8+=`
					<tr>
					<td>8</td>
					<td>${data.chname8}</td>
					<td>${data.ch8}</td>
					<td>${data.chh8}</td>
					<td>${data.chhh8}</td>
					</tr>
					`;
					tr9+=`
					<tr>
					<td>9</td>
					<td>${data.chname9}</td>
					<td>${data.ch9}</td>
					<td>${data.chh9}</td>
					<td>${data.chhh9}</td>
					</tr>
					`;
					tr10+=`
					<tr>
					<td>10</td>
					<td>${data.chname10}</td>
					<td>${data.ch10}</td>
					<td>${data.chh10}</td>
					<td>${data.chhh10}</td>
					</tr>
					`;
					tr16+=`
					<hr/>
					`;	
				
				$('#tbody2').append(tr);
				$('#tbody2').append(tr2);
				$('#tbody2').append(tr3);
				$('#tbody2').append(tr4);
				$('#tbody2').append(tr5);
				$('#tbody2').append(tr6);
				$('#tbody2').append(tr7);
				$('#tbody2').append(tr8);
				$('#tbody2').append(tr9);
				$('#tbody2').append(tr10); 
				$('#tbody2').append(tr16); 
			
	},
			dataType:'json'
		})
	}
	
	
	
	//查填空题结果
	function queryGp(page){
		var pages =page;
		$.ajax({
			url:'../exam22/19da3/'+pages,			
			method:'get',  
			data:{'pid':page},
			success:function(data){
				
				
				var tr='';
				var tr2='';
				var tr3='';
				var tr4='';
				var tr5='';
				var tr16='';
						
					tr+=`
					<tr>
					<td>1</td>
					<td>${data.gpname1}</td>
					<td>${data.gp1}</td>
					<td>${data.gpp1}</td>
					<td>${data.gppp1}</td>
					</tr>
					`;
					tr2+=`
					<tr>
					<td>2</td>
					<td>${data.gpname2}</td>
					<td>${data.gp2}</td>
					<td>${data.gpp2}</td>
					<td>${data.gppp2}</td>
					</tr>
					`;
						tr3+=`
					<tr>
					<td>3</td>
					<td>${data.gpname3}</td>
					<td>${data.gp3}</td>
					<td>${data.gpp3}</td>
					<td>${data.gppp3}</td>
					</tr>
					`;
						tr4+=`
					<tr>
					<td>4</td>
					<td>${data.gpname4}</td>
					<td>${data.gp4}</td>
					<td>${data.gpp4}</td>
					<td>${data.gppp4}</td>
					</tr>
					`;
						tr5+=`
					<tr>
					<td>5</td>
					<td>${data.gpname5}</td>
					<td>${data.gp5}</td>
					<td>${data.gpp5}</td>
					<td>${data.gppp5}</td>
					</tr>
					`;
					tr16+=`
					<hr/>
					`;	
		
				$('#tbody3').append(tr);
				$('#tbody3').append(tr2);
				$('#tbody3').append(tr3);
				$('#tbody3').append(tr4);
				$('#tbody3').append(tr5); 
				$('#tbody3').append(tr16); 
			
	},
			dataType:'json'
		})
}
	
	$(function(){
		var p =location.search;
		var arr =p.split("=");
		var type =arr[1];
		queryMsg(type);
		querySg(type)
		queryCh(type)
		queryGp(type)
})

</script>

</body>
</html>