<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>查询成绩页面</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="layui/css/layui.css"  media="all">
  <script src="js/include.js"></script>
</head>
 <include src="head.html"></include>

<body>
 <br>
  <br>
   <br>
 <div style="width: 90% ;padding-left:150px">
<table class="layui-hide" id="test" lay-filter="test"></table>
 </div>
<script type="text/html" id="toolbarDemo">
 
</script>
	<script src="../layui/layui.js" charset="utf-8"></script>
	<script src="../js/jquery.easy-pie-chart.js"></script>
	<script src="../js/jquery-3.3.1.min.js"></script>
	<script src="../js/bootstrap.min.js"></script>
	<!--时间js-->
	<script src="../time/jquery.countdown.js"></script>
<script>




layui.use('table', function(){
  var table = layui.table;
  
  table.render({
    elem: '#test'
    ,url:'../exam33/reports/'
    ,toolbar: '#toolbarDemo'
    ,title: '考试成绩表'
    ,cols: [[
      {type: 'checkbox', fixed: 'left'}
      ,{field:'rpid', title:'编号', width:120, fixed: 'left', unresize: true, sort: true}
      ,{field:'name', title:'姓名', width:120}
      ,{field:'ptype', title:'试卷类型', width:120}
      ,{field:'redate', title:'考试日期', width:120}
      ,{field:'grade', title:'分数', width:120,  sort: true}
      ,{field:'rpmin', title:'考试用时', width:120}
      ,{field:'renames', title:'试卷题型', width:200}
      ,{fixed: 'right', title:'操作'
    	  ,templet: '<div><button data-type="auto" onclick="queryDetail({{d.pid}})" class="layui-btn layui-btn-normal">查询详情</button></div>'
    	  ,width:200}
    ]]
    ,page: true//开启分页
  });
  
  //头工具栏事件
  table.on('toolbar(test)', function(obj){
    var checkStatus = table.checkStatus(obj.config.id);
    switch(obj.event){
      case 'getCheckData':
        var data = checkStatus.data;
        layer.alert(JSON.stringify(data));
      break;
      case 'getCheckLength':
        var data = checkStatus.data;
        layer.msg('选中了：'+ data.length + ' 个');
      break;
      case 'isAll':
        layer.msg(checkStatus.isAll ? '全选': '未全选');
      break;
    };
  });
  
  
  //查询成绩详情
 queryDetail= function (pid){
	
  
	  location.href="result2.html?type="+pid;
  }
 
  
});
</script>
<script>

</script>

</body>
</html>